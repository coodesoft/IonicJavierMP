<ion-header>
  <ion-navbar>
    <button ion-button menuToggle><ion-icon name="menu"></ion-icon></button>
    <ion-title>AdministraciÃ³n de usuarios - Gestar COOP</ion-title>
    <user-info></user-info>
  </ion-navbar>
</ion-header>


<ion-content padding>
    <ion-grid>
        <!-- Botonera superior -->
        <ion-row>
            <ion-col col-12 col-sm-2 col-md-2 col-xl-1><button ion-button block color="secondary" (click)="create()">Nuevo</button></ion-col>
        </ion-row>
        <!-- listado usuarios -->
        <ion-row>
            <ngx-datatable col-12 class="material" [rowHeight]="50" [rows]="users_list" [columnMode]="'force'" [sortType]="'multi'" [reorderable]="false">
                <ngx-datatable-column prop="id"        name="Id"></ngx-datatable-column>
                <ngx-datatable-column prop="FirstName" name="Nombre"></ngx-datatable-column>
                <ngx-datatable-column prop="LastName"  name="Apellido"></ngx-datatable-column>
                <ngx-datatable-column prop="email"     name="Email"></ngx-datatable-column>
                <ngx-datatable-column prop="disabled_on" name="Deshabilitado el:"></ngx-datatable-column>

                <ngx-datatable-column name="id" [resizeable]="false">
                   <ng-template ngx-datatable-header-template>
                     Acciones
                   </ng-template>
                   <ng-template let-row="row" ngx-datatable-cell-template>
                     <button ion-button small color="secondary" (click)="edit(row)">Editar</button>
                     <button ion-button small *ngIf="row.disabled_on == NULL" color="danger" (click)="remove(row)">Deshabilitar</button>
                     <button ion-button small *ngIf="row.disabled_on != NULL" color="success" (click)="enable(row)">Habilitar</button>
                   </ng-template>
                 </ngx-datatable-column>
            </ngx-datatable>
        </ion-row>
    </ion-grid>
</ion-content>
